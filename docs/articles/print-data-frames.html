<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>But data frames already have a print method! • dfprint</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="But data frames already have a print method!">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dfprint</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/print-data-frames.html">But data frames already have a print method!</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>But data frames already have a print method!</h1>
            
      
      
      <div class="hidden name"><code>print-data-frames.Rmd</code></div>

    </div>

    
    
<p>They do. But it falls short in a few few well-known respects which, at least in part, motivated the “Tidyverse” folks to reimagine data frames altogether. I’m going to go through these issues in order (of how much they annoy me).</p>
<div id="issues-with-base-print" class="section level2">
<h2 class="hasAnchor">
<a href="#issues-with-base-print" class="anchor"></a>Issues with base print</h2>
<p><strong>1. Large data frames print poorly.</strong> Tinkering with <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code> and <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> is not fun. Lists of data frames may even hang R when printed in full.</p>
<p><strong>2. Lack of metadata.</strong> These are typically obtained by <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code>, <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code> and <code><a href="https://rdrr.io/r/utils/object.size.html">object.size()</a></code>, at the cost of additional typing and scrolling, as the original output gets displaced by the subsequent calls.</p>
<p><strong>3. Too plain.</strong> Less is not always more. ANSI formatting would help to tell apart factor from character, lists from atomic vectors etc.</p>
<p><strong>4. Valid inputs can produce an error.</strong> For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">li =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/name.html">as.symbol</a></span>(<span class="st">"a"</span>), <span class="kw"><a href="https://rdrr.io/r/base/name.html">as.symbol</a></span>(<span class="st">"b"</span>))</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">df =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">df<span class="op">$</span>li =<span class="st"> </span>li</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">df</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; Error in format.default(unlist(xx), ...): Found no format() method for class "name"</span></a></code></pre></div>
<p>The above is a data frame that cannot be printed because its list column <code>li</code> includes symbol elements. Not a frequent use case, but should be handled as well.</p>
<p><strong>5. And then there is this:</strong> Data frames can have columns which themselves are dataframes (or matrices or arrays). One place where you can see this is when you parse JSON data structures, eg. using <code>jsonlinte::fromJSON()</code>. Can you tell from the printout below which columns belong to the data frame column?</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">df_parent =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">child.y =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>])</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">df_child  =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">y =</span> LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">z =</span> <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co"># Add child data frame as a column to the parent.</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">df_parent<span class="op">$</span>child =<span class="st"> </span>df_child</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co"># Check the number of columns</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(df_parent)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co"># Print out the result.</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12">df_parent</a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;   x child.y child.y child.z</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt; 1 1       a       A       2</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; 2 2       b       B       3</span></a></code></pre></div>
<p>There is no way of telling that the first <code>child.y</code> is a regular column, while the rest belongs to the child data frame. The “dot syntax” just does not help.</p>
</div>
<div id="burn-it-all-down" class="section level2">
<h2 class="hasAnchor">
<a href="#burn-it-all-down" class="anchor"></a>Burn it all down</h2>
<p>Using <em><a href="https://tibble.tidyverse.org/articles/tibble.html#tibbles-vs-data-frames">tibbles</a></em> solves these problems nicely, but not for data frames. Thus, if you want to use their nice print method, you have to first coerce your data frame into a tibble. This is something you may not want, because the behavior of data frames and tibbles is not the same, or because some R functions expect a data frame, or simply because it is a bit annoying having to do that every single time.</p>
<p>To use <em>dfprint</em>, just load the package in the usual way. Data frames will now print nicely.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dfprint)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; Registered S3 method overwritten by 'dfprint':</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt;   method           from</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt;   print.data.frame base</span></a></code></pre></div>
<p>Oh no, is the base print method being overloaded?! Yes. Yes it is.</p>
</div>
<div id="thats-scary-is-it-worth-it" class="section level2">
<h2 class="hasAnchor">
<a href="#thats-scary-is-it-worth-it" class="anchor"></a>That’s scary! Is it worth it?</h2>
<p>I let you decide. In the meantime, let’s have a look at how it prints. Here is the <code>iris</code> data set with scrambled rows. I scrambled the rows so you can see the factor ordering properly:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">iris2 =<span class="st"> </span>iris[<span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample.int</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(iris)), ]</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">iris2</a></code></pre></div>
<pre class="fansi fansi-output"><code>#&gt; <span style="color: #949494;"># data.frame 150 rows, 5 columns (7.7 Kb)</span><span> 
#&gt; </span><span style="color: #949494;font-style: italic;">   </span><span> </span><span style="font-weight: bold;">Sepal.Length</span><span> </span><span style="font-weight: bold;">Sepal.Width</span><span> </span><span style="font-weight: bold;">Petal.Length</span><span> </span><span style="font-weight: bold;">Petal.Width</span><span> </span><span style="font-weight: bold;">     Species</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">   </span><span> </span><span style="color: #949494;font-style: italic;">         dbl</span><span> </span><span style="color: #949494;font-style: italic;">        dbl</span><span> </span><span style="color: #949494;font-style: italic;">         dbl</span><span> </span><span style="color: #949494;font-style: italic;">        dbl</span><span> </span><span style="color: #949494;font-style: italic;">      factor</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 68</span><span>          5.8         2.7          4.1         1.0 versicolor</span><span style="color: #949494;">|2</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">129</span><span>          6.4         2.8          5.6         2.1  virginica</span><span style="color: #949494;">|3</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 43</span><span>          4.4         3.2          1.3         0.2     setosa</span><span style="color: #949494;">|1</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 14</span><span>          4.3         3.0          1.1         0.1     setosa</span><span style="color: #949494;">|1</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 51</span><span>          7.0         3.2          4.7         1.4 versicolor</span><span style="color: #949494;">|2</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 85</span><span>          5.4         3.0          4.5         1.5 versicolor</span><span style="color: #949494;">|2</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 21</span><span>          5.4         3.4          1.7         0.2     setosa</span><span style="color: #949494;">|1</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">106</span><span>          7.6         3.0          6.6         2.1  virginica</span><span style="color: #949494;">|3</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 74</span><span>          6.1         2.8          4.7         1.2 versicolor</span><span style="color: #949494;">|2</span><span>
#&gt; </span><span style="color: #949494;"># showing 9 rows out of 150</span><span>
</span></code></pre>
<p>Things to point out:</p>
<ul>
<li><p>The number of rows and columns is printed at the top, along with the amount of RAM allocated.</p></li>
<li><p>Column headers include object type. For objects with a “class” attribute set (such as factors or datetimes), class is shown instead of type. Datetime columns (POSIXct and POSIXlt) also show the timezone.</p></li>
<li><p>Factors display their underlying integer values to make their ordering a bit more obvious. This may be useful for eg. plotting.</p></li>
<li><p>The footer is telling you how many rows are displayed. If you need more, use the the <code>n</code> argument, eg, <code><a href="https://rdrr.io/r/base/print.html">print(iris2, n = 20)</a></code>. Use <code>Inf</code> to print all rows.</p></li>
</ul>
<p>When a data frame is bit wider, the names and summaries of the overflowing columns are displayed below.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">iris3 =<span class="st"> </span>iris2[, <span class="kw"><a href="https://rdrr.io/r/base/sample.html">sample.int</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(iris2), <span class="dv">8</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)]</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">iris3</a></code></pre></div>
<pre class="fansi fansi-output"><code>#&gt; <span style="color: #949494;"># data.frame 150 rows, 8 columns (11.5 Kb)</span><span> 
#&gt; </span><span style="color: #949494;font-style: italic;">   </span><span> </span><span style="font-weight: bold;">Sepal.Length</span><span> </span><span style="font-weight: bold;">Petal.Width</span><span> </span><span style="font-weight: bold;">Sepal.Length.1</span><span> </span><span style="font-weight: bold;">Sepal.Width</span><span> </span><span style="font-weight: bold;">     Species</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">   </span><span> </span><span style="color: #949494;font-style: italic;">         dbl</span><span> </span><span style="color: #949494;font-style: italic;">        dbl</span><span> </span><span style="color: #949494;font-style: italic;">           dbl</span><span> </span><span style="color: #949494;font-style: italic;">        dbl</span><span> </span><span style="color: #949494;font-style: italic;">      factor</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 68</span><span>          5.8         1.0            5.8         2.7 versicolor</span><span style="color: #949494;">|2</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">129</span><span>          6.4         2.1            6.4         2.8  virginica</span><span style="color: #949494;">|3</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 43</span><span>          4.4         0.2            4.4         3.2     setosa</span><span style="color: #949494;">|1</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 14</span><span>          4.3         0.1            4.3         3.0     setosa</span><span style="color: #949494;">|1</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 51</span><span>          7.0         1.4            7.0         3.2 versicolor</span><span style="color: #949494;">|2</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 85</span><span>          5.4         1.5            5.4         3.0 versicolor</span><span style="color: #949494;">|2</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 21</span><span>          5.4         0.2            5.4         3.4     setosa</span><span style="color: #949494;">|1</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">106</span><span>          7.6         2.1            7.6         3.0  virginica</span><span style="color: #949494;">|3</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> 74</span><span>          6.1         1.2            6.1         2.8 versicolor</span><span style="color: #949494;">|2</span><span>
#&gt; </span><span style="color: #949494;"># showing 9 rows out of 150</span><span>
#&gt; </span><span style="color: #949494;"># 3 additional columns:</span><span> Petal.Length </span><span style="color: #949494;">(dbl)</span><span> Sepal.Width.1 </span><span style="color: #949494;">(dbl)</span><span> Petal.Length.1 </span><span style="color: #949494;">(dbl)</span><span>
</span></code></pre>
<p>Row names are preserved:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">mtcars[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, ]</a></code></pre></div>
<pre class="fansi fansi-output"><code>#&gt; <span style="color: #949494;"># data.frame 4 rows, 11 columns (2.6 Kb)</span><span> 
#&gt; </span><span style="color: #949494;font-style: italic;">              </span><span> </span><span style="font-weight: bold;">mpg</span><span> </span><span style="font-weight: bold;">cyl</span><span> </span><span style="font-weight: bold;">disp</span><span> </span><span style="font-weight: bold;"> hp</span><span> </span><span style="font-weight: bold;">drat</span><span> </span><span style="font-weight: bold;"> wt</span><span> </span><span style="font-weight: bold;">qsec</span><span> </span><span style="font-weight: bold;"> vs</span><span> </span><span style="font-weight: bold;"> am</span><span> </span><span style="font-weight: bold;">gear</span><span> </span><span style="font-weight: bold;">carb</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">              </span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">     Mazda RX4</span><span>  21   6  160 110  3.9 2.6   16   0   1    4    4
#&gt; </span><span style="color: #949494;font-style: italic;"> Mazda RX4 Wag</span><span>  21   6  160 110  3.9 2.9   17   0   1    4    4
#&gt; </span><span style="color: #949494;font-style: italic;">    Datsun 710</span><span>  23   4  108  93  3.9 2.3   19   1   1    4    1
#&gt; </span><span style="color: #949494;font-style: italic;">Hornet 4 Drive</span><span>  21   6  258 110  3.1 3.2   19   1   0    3    1
</span></code></pre>
<p>And what about those failed examples from before? Here is the “unprintable” data frame with some additional list columns added:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">df<span class="op">$</span>li2 =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(mtcars, letters)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">df<span class="op">$</span>li3 =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(mean, <span class="op">~</span>x)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">df</a></code></pre></div>
<pre class="fansi fansi-output"><code>#&gt; <span style="color: #949494;"># data.frame 2 rows, 4 columns (11.8 Kb)</span><span> 
#&gt; </span><span style="color: #949494;font-style: italic;"> </span><span> </span><span style="font-weight: bold;">  a</span><span> </span><span style="font-weight: bold;">      li</span><span> </span><span style="font-weight: bold;">        li2</span><span> </span><span style="font-weight: bold;">       li3</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> </span><span> </span><span style="color: #949494;font-style: italic;">int</span><span> </span><span style="color: #949494;font-style: italic;">     lst</span><span> </span><span style="color: #949494;font-style: italic;">        lst</span><span> </span><span style="color: #949494;font-style: italic;">       lst</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">1</span><span>   1 </span><span style="color: #949494;">[symbol]</span><span> </span><span style="color: #949494;">[df, 32x11]</span><span> </span><span style="color: #949494;">[function]</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">2</span><span>   2 </span><span style="color: #949494;">[symbol]</span><span> </span><span style="color: #949494;">  [chr, 26]</span><span> </span><span style="color: #949494;"> [formula]</span><span>
</span></code></pre>
<p>Prints out no problem. List column include summaries of their elements instead of the values themselves, which saves space and is often more informative.</p>
<p>Now for the data frame column - and let’s also add a matrix column:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">df_parent<span class="op">$</span>m =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">ncol =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">df_parent</a></code></pre></div>
<pre class="fansi fansi-output"><code>#&gt; <span style="color: #949494;"># data.frame 2 rows, 4 columns (3.1 Kb)</span><span> 
#&gt; </span><span style="color: #949494;font-style: italic;"> </span><span> </span><span style="font-weight: bold;">  x</span><span> </span><span style="font-weight: bold;">child.y</span><span> </span><span style="font-weight: bold;">child$y</span><span> </span><span style="font-weight: bold;">child$z</span><span> </span><span style="font-weight: bold;">m[,1]</span><span> </span><span style="font-weight: bold;">m[,2]</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;"> </span><span> </span><span style="color: #949494;font-style: italic;">int</span><span> </span><span style="color: #949494;font-style: italic;"> factor</span><span> </span><span style="color: #949494;font-style: italic;"> factor</span><span> </span><span style="color: #949494;font-style: italic;">    int</span><span> </span><span style="color: #949494;font-style: italic;">  int</span><span> </span><span style="color: #949494;font-style: italic;">  int</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">1</span><span>   1     a</span><span style="color: #949494;">|1</span><span>     A</span><span style="color: #949494;">|1</span><span>       2     1     3
#&gt; </span><span style="color: #949494;font-style: italic;">2</span><span>   2     b</span><span style="color: #949494;">|2</span><span>     B</span><span style="color: #949494;">|2</span><span>       3     2     4
</span></code></pre>
<p>The <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> and <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> make it obvious that these columns belong to 2-d structures. Note that the number of columns stated above is correct, because <code>child</code> (not <code>child.y</code>) and <code>m</code> are each a single 2-d column.</p>
</div>
<div id="options" class="section level2">
<h2 class="hasAnchor">
<a href="#options" class="anchor"></a>Options</h2>
<p>If your terminal does not fully support ANSI formatting, you can turn selected features off.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(<span class="dt">dfprint_strong =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co"># Column headers are no longer bold:</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">mtcars</a></code></pre></div>
<pre class="fansi fansi-output"><code>#&gt; <span style="color: #949494;"># data.frame 32 rows, 11 columns (7 Kb)</span><span> 
#&gt; </span><span style="color: #949494;font-style: italic;">                 </span><span> mpg cyl disp  hp drat  wt qsec  vs  am gear carb
#&gt; </span><span style="color: #949494;font-style: italic;">                 </span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;">dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span> </span><span style="color: #949494;font-style: italic;"> dbl</span><span>
#&gt; </span><span style="color: #949494;font-style: italic;">        Mazda RX4</span><span>  21   6  160 110  3.9 2.6   16   0   1    4    4
#&gt; </span><span style="color: #949494;font-style: italic;">    Mazda RX4 Wag</span><span>  21   6  160 110  3.9 2.9   17   0   1    4    4
#&gt; </span><span style="color: #949494;font-style: italic;">       Datsun 710</span><span>  23   4  108  93  3.9 2.3   19   1   1    4    1
#&gt; </span><span style="color: #949494;font-style: italic;">   Hornet 4 Drive</span><span>  21   6  258 110  3.1 3.2   19   1   0    3    1
#&gt; </span><span style="color: #949494;font-style: italic;">Hornet Sportabout</span><span>  19   8  360 175  3.1 3.4   17   0   0    3    2
#&gt; </span><span style="color: #949494;font-style: italic;">          Valiant</span><span>  18   6  225 105  2.8 3.5   20   1   0    3    1
#&gt; </span><span style="color: #949494;font-style: italic;">       Duster 360</span><span>  14   8  360 245  3.2 3.6   16   0   0    3    4
#&gt; </span><span style="color: #949494;font-style: italic;">        Merc 240D</span><span>  24   4  147  62  3.7 3.2   20   1   0    4    2
#&gt; </span><span style="color: #949494;font-style: italic;">         Merc 230</span><span>  23   4  141  95  3.9 3.1   23   1   0    4    2
#&gt; </span><span style="color: #949494;"># showing 9 rows out of 32</span><span>
</span></code></pre>
<p>Use <code>dfprint_italic = FALSE</code> and <code>dfprint_subtle = FALSE</code> to disable individual features, or <code>dfprint_enable = FALSE</code> to revert back to base print method.</p>
</div>
<div id="using-dfprint-in-other-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#using-dfprint-in-other-packages" class="anchor"></a>Using dfprint in other packages</h2>
<p>The downside of overloading the base print method is that the R CMD check returns a warning. This means that <em>dfprint</em> will never make it to CRAN. If you want your package to be on CRAN, importing <em>dfprint</em> is probably not an option. On the other hand, if you are happy with people getting your package from GitHub, you should be fine.</p>
<p><em>dfprint</em> has no dependencies apart from what comes with base R (ie. <em>stats</em> and <em>utils</em>). And while it is true that more dependencies is not always bad, it is <a href="https://www.tidyverse.org/blog/2019/05/itdepends/">worth thinking about</a>. In that regard, <em>dfprint</em> is a lean and leightweight choice.</p>
<p>Interactive use has much fewer constraints. I find myself using it all the time when inspecting data frames, without necessarily including it as a dependency in my projects.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span>()</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; R version 3.6.2 (2019-12-12)</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">#&gt; Platform: x86_64-pc-linux-gnu (64-bit)</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt; Running under: elementary OS 5.1.2 Hera</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt; Matrix products: default</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.7.1</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.7.1</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt; locale:</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt;  [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              </span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co">#&gt;  [3] LC_TIME=cs_CZ.UTF-8        LC_COLLATE=en_GB.UTF-8    </span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt;  [5] LC_MONETARY=cs_CZ.UTF-8    LC_MESSAGES=en_GB.UTF-8   </span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">#&gt;  [7] LC_PAPER=cs_CZ.UTF-8       LC_NAME=C                 </span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="co">#&gt;  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="co">#&gt; [11] LC_MEASUREMENT=cs_CZ.UTF-8 LC_IDENTIFICATION=C       </span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="co">#&gt; attached base packages:</span></a>
<a class="sourceLine" id="cb10-19" data-line-number="19"><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></a>
<a class="sourceLine" id="cb10-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-21" data-line-number="21"><span class="co">#&gt; other attached packages:</span></a>
<a class="sourceLine" id="cb10-22" data-line-number="22"><span class="co">#&gt; [1] dfprint_0.0.0.9000</span></a>
<a class="sourceLine" id="cb10-23" data-line-number="23"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-24" data-line-number="24"><span class="co">#&gt; loaded via a namespace (and not attached):</span></a>
<a class="sourceLine" id="cb10-25" data-line-number="25"><span class="co">#&gt;  [1] Rcpp_1.0.2       fansi_0.4.0      rprojroot_1.3-2  crayon_1.3.4    </span></a>
<a class="sourceLine" id="cb10-26" data-line-number="26"><span class="co">#&gt;  [5] digest_0.6.23    assertthat_0.2.1 MASS_7.3-51.5    R6_2.4.0        </span></a>
<a class="sourceLine" id="cb10-27" data-line-number="27"><span class="co">#&gt;  [9] backports_1.1.5  magrittr_1.5     evaluate_0.14    stringi_1.4.3   </span></a>
<a class="sourceLine" id="cb10-28" data-line-number="28"><span class="co">#&gt; [13] rlang_0.4.4      rstudioapi_0.10  fs_1.3.1         rmarkdown_1.13  </span></a>
<a class="sourceLine" id="cb10-29" data-line-number="29"><span class="co">#&gt; [17] pkgdown_1.4.1    desc_1.2.0       tools_3.6.2      stringr_1.4.0   </span></a>
<a class="sourceLine" id="cb10-30" data-line-number="30"><span class="co">#&gt; [21] yaml_2.2.0       xfun_0.7         compiler_3.6.2   memoise_1.1.0   </span></a>
<a class="sourceLine" id="cb10-31" data-line-number="31"><span class="co">#&gt; [25] htmltools_0.3.6  knitr_1.23</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#issues-with-base-print">Issues with base print</a></li>
      <li><a href="#burn-it-all-down">Burn it all down</a></li>
      <li><a href="#thats-scary-is-it-worth-it">That’s scary! Is it worth it?</a></li>
      <li><a href="#options">Options</a></li>
      <li><a href="#using-dfprint-in-other-packages">Using dfprint in other packages</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jakub Chromec.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
